CREATE SCHEMA school;
USE school;

CREATE TABLE Student (
    StudentId BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Name VARCHAR(255) NOT NULL,
    Email VARCHAR(255) NOT NULL,
    Code BIGINT NOT NULL,
    Gender CHAR NOT NULL,
    Phone VARCHAR(25) NULL,
    Birthday VARCHAR(10) NOT NULL
)

CREATE TABLE Subject (
    SubjectId BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Name VARCHAR(255) NOT NULL,
    Credits INT NOT NULL
)

CREATE TABLE StudentSubject (
    StudentSubjectId BIGINT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    StudentId BIGINT NOT NULL,
    SubjectId BIGINT NOT NULL,
    Grade DECIMAL(4,2) NOT NULL,
    Period INT NOT NULL,
    Attendance INT NOT NULL
)

ALTER TABLE StudentSubject
ADD CONSTRAINT FK_STUDENTSUBJECT_STUDENT
FOREIGN KEY (StudentId) REFENCES Student(StudentId)

ALTER TABLE StudentSubject
ADD CONSTRAINT FK_STUDENTSUBJECT_SUBJECT
FOREIGN KEY (SubjectId) REFENCES Subject(SubjectId)